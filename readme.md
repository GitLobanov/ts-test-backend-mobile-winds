# Budget API Service. –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–Ø–∑—ã–∫**: Kotlin 2.1.0
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Ktor `2.1.0`
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL + Exposed ORM
- **–ú–∏–≥—Ä–∞—Ü–∏–∏**: Flyway 9.22.3
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (Ktor Auth)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: OpenAPI Generator
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: Logback
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: JUnit 5, RestAssured

## üë§API

- `POST /author`
- `POST /budget/add`
- `GET /budget/year/{year}/stats`
- `GET /budget/year/2023/stats?limit=10&offset=0&authorName=–ò–≤–∞–Ω`

## üöÄ –ó–∞–ø—É—Å–∫ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î –≤ application.conf
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

## üîå –°–ø–∏—Å–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –¥–ª—è –¢–ó

1. –ü–æ—á–∏–Ω–∏—Ç—å —Ç–µ—Å—Ç—ã
  * `testBudgetPagination` - –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—è + –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø–∏—Å–µ–π
  * `testStatsSortOrder` - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –≤—ã–¥–∞—á–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
2. –ò–∑ –º–æ–¥–µ–ª–∏ `BudgetType` —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏—é –ë–î —É–±—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `–ö–æ–º–∏—Å—Å–∏—è`, –∑–∞–º–µ–Ω–∏–≤ –µ–≥–æ –Ω–∞ `–†–∞—Å—Ö–æ–¥`
3. –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `Author` - –∞–≤—Ç–æ—Ä –≤–Ω–µ—Å–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏.
   * 3 –∫–æ–ª–æ–Ω–∫–∏ - `ID`, `–§–ò–û`, `–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è` (–¥–∞—Ç–∞-–≤—Ä–µ–º—è). 
   * –î–æ–±–∞–≤–∏—Ç—å –≤ –∞–ø–∏ –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –≤ `Author`. –ù–∞ –≤—Ö–æ–¥ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –§–ò–û, –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
   * –í `BudgetTable` –¥–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –ø—Ä–∏–≤—è–∑–∫—É –ø–æ `Author.id`
   * –î–æ–ø–æ–ª–Ω–∏—Ç—å `/budget/add` –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–∫–∞–∑–∞—Ç—å ID –∞–≤—Ç–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ)
   * –í —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –æ—Ç–≤–µ—Ç–∞ `/budget/year/{year}/stats` –≤—ã–≤–æ–¥–∏—Ç—å –§–ò–û –∞–≤—Ç–æ—Ä–∞, –µ—Å–ª–∏ –æ–Ω —É–∫–∞–∑–∞–Ω –¥–ª—è –∑–∞–ø–∏—Å–∏, –∞ —Ç–∞–∫–∂–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –∞–≤—Ç–æ—Ä–∞.
   * –î–æ–±–∞–≤–∏—Ç—å –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ `/budget/year/{year}/stats` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –ø–æ –§–ò–û –∞–≤—Ç–æ—Ä–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é –ø–æ–¥—Å—Ç—Ä–æ–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—è —Ä–µ–≥–∏—Å—Ç—Ä
4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏